{"ast":null,"code":"var _jsxFileName = \"/Users/bnandy/Documents/4_Final_Q/HCI/bnandy/biknandy/src/components/guestbook.js\";\nimport React, { Component, useEffect, useState } from 'react';\nimport { Container, Row, Col, Form, Button, Card } from 'react-bootstrap';\nimport config from '../config.js';\nimport { Formik } from 'formik';\nimport * as yup from 'yup';\nimport Blog from '../components/blog';\n\nconst firebase = require(\"firebase\");\n\nexport default function Guestbook() {\n  const [data, setData] = useState(null);\n  const [rend, setRend] = useState(true);\n  const schema = yup.object({\n    name: yup.string().min(5).max(20).required(),\n    description: yup.string().max(100),\n    message: yup.string().min(15).max(500).required(),\n    email: yup.string().email(),\n    view: yup.bool()\n  });\n  useEffect(() => {\n    if (!firebase.apps.length) {\n      firebase.initializeApp(config);\n    }\n\n    let ref = firebase.database().ref('data');\n    ref.on('value', snapshot => {\n      const state = snapshot.val();\n      setData(state);\n    });\n  }, [rend]);\n\n  const submitForm = formData => {\n    firebase.database().ref('data').push().set({\n      time: firebase.database.ServerValue.TIMESTAMP,\n      name: formData.name,\n      description: formData.description,\n      message: formData.message,\n      email: formData.email,\n      view: formData.view\n    });\n    alert(\"Form submitted!\");\n  };\n\n  let blog;\n\n  if (data != null) {\n    blog = /*#__PURE__*/React.createElement(Blog, {\n      data: data,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 12\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    fluid: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"ml-3 mt-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }, \" Send me a message!  \"))), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    className: \"ml-3 mr-5 mb-2\",\n    xs: 12,\n    sm: 6,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    border: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Card.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Formik, {\n    validationSchema: schema,\n    onSubmit: (values, {\n      resetForm\n    }) => {\n      submitForm(values);\n      resetForm();\n    },\n    initialValues: {\n      name: \"\",\n      description: \"\",\n      message: \"\",\n      email: \"\",\n      view: false\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 17\n    }\n  }, ({\n    handleSubmit,\n    handleChange,\n    handleBlur,\n    values,\n    touched,\n    isValid,\n    errors\n  }) => /*#__PURE__*/React.createElement(Form, {\n    noValidate: true,\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    as: Col,\n    controlId: \"validationFormik01\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 27\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    name: \"name\",\n    placeholder: \"Your name here\",\n    value: values.name,\n    onChange: handleChange,\n    isInvalid: !!errors.name,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(Form.Control.Feedback, {\n    type: \"invalid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 27\n    }\n  }, errors.name))), /*#__PURE__*/React.createElement(Form.Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    as: Col,\n    controlId: \"validationFormik02\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 27\n    }\n  }, \"Brief Description\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    name: \"description\",\n    placeholder: \"Describe yourself (optional)\",\n    value: values.description,\n    onChange: handleChange,\n    isInvalid: !!errors.description,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(Form.Control.Feedback, {\n    type: \"invalid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 27\n    }\n  }, errors.description))), /*#__PURE__*/React.createElement(Form.Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    as: Col,\n    controlId: \"validationFormik03\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 27\n    }\n  }, \"Message\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    name: \"message\",\n    placeholder: \"Type something fun!\",\n    value: values.message,\n    onChange: handleChange,\n    isInvalid: !!errors.message,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(Form.Control.Feedback, {\n    type: \"invalid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 27\n    }\n  }, errors.message))), /*#__PURE__*/React.createElement(Form.Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    as: Col,\n    controlId: \"validationFormik04\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 27\n    }\n  }, \"Email\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"text\",\n    name: \"email\",\n    placeholder: \"Will not be posted (optional)\",\n    value: values.email,\n    onChange: handleChange,\n    isInvalid: !!errors.email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 27\n    }\n  }), /*#__PURE__*/React.createElement(Form.Control.Feedback, {\n    type: \"invalid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 27\n    }\n  }, errors.email))), /*#__PURE__*/React.createElement(Form.Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Form.Check, {\n    name: \"view\",\n    label: \"Select to make your post public\",\n    onChange: handleChange,\n    id: \"validationFormik05\",\n    feedback: errors.view,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 27\n    }\n  }))), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 23\n    }\n  }, \"Submit form\")))))), /*#__PURE__*/React.createElement(Col, {\n    className: \"ml-2\",\n    xs: 12,\n    sm: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 11\n    }\n  }, blog))));\n}","map":{"version":3,"sources":["/Users/bnandy/Documents/4_Final_Q/HCI/bnandy/biknandy/src/components/guestbook.js"],"names":["React","Component","useEffect","useState","Container","Row","Col","Form","Button","Card","config","Formik","yup","Blog","firebase","require","Guestbook","data","setData","rend","setRend","schema","object","name","string","min","max","required","description","message","email","view","bool","apps","length","initializeApp","ref","database","on","snapshot","state","val","submitForm","formData","push","set","time","ServerValue","TIMESTAMP","alert","blog","values","resetForm","handleSubmit","handleChange","handleBlur","touched","isValid","errors"],"mappings":"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","sourcesContent":["import React, { Component, useEffect, useState} from 'react';\nimport {Container, Row, Col, Form, Button, Card} from 'react-bootstrap';\nimport config from '../config.js';\nimport {Formik} from 'formik';\nimport * as yup from 'yup';\nimport Blog from '../components/blog';\nconst firebase = require(\"firebase\");\nexport default function Guestbook() {\n\n  const [data, setData] = useState(null)\n  const [rend, setRend] = useState(true)\n\n  const schema = yup.object({\n    name: yup.string().min(5).max(20).required(),\n    description: yup.string().max(100),\n    message: yup.string().min(15).max(500).required(),\n    email: yup.string().email(),\n    view: yup.bool(),\n  });\n\n  useEffect(() => {\n      if (!firebase.apps.length) {\n         firebase.initializeApp(config)\n      }\n\n      let ref = firebase.database().ref('data');\n\n      ref.on ('value', snapshot => {\n        const state = snapshot.val()\n        setData (state)\n      })\n  },[rend])\n\n  const submitForm = (formData) => {\n    firebase.database().ref('data').push().set({\n      time: firebase.database.ServerValue.TIMESTAMP,\n      name: formData.name,\n      description: formData.description,\n      message: formData.message,\n      email: formData.email,\n      view: formData.view\n    })\n\n    alert(\"Form submitted!\")\n  }\n\n  let blog;\n\n  if (data != null){\n    blog = <Blog data= {data}/>;\n  }\n\n  return(\n    <div>\n      <Container fluid>\n        <Row>\n          <Col>\n            <h1 className = \"ml-3 mt-3\"> Send me a message!  </h1>\n          </Col>\n        </Row>\n        <Row>\n          <Col className = \"ml-3 mr-5 mb-2\" xs={12} sm={6}>\n            <Card border = \"primary\">\n              <Card.Body>\n                <Formik\n                  validationSchema={schema}\n                  onSubmit={(values, {resetForm}) => {\n                    submitForm(values)\n                    resetForm();\n                  }}\n                  initialValues={{\n                    name: \"\",\n                    description: \"\",\n                    message: \"\",\n                    email: \"\",\n                    view: false,\n                  }}\n                >\n                  {({\n                    handleSubmit,\n                    handleChange,\n                    handleBlur,\n                    values,\n                    touched,\n                    isValid,\n                    errors,\n                  }) => (\n                    <Form noValidate onSubmit={handleSubmit}>\n                      <Form.Row>\n                        <Form.Group as={Col} controlId=\"validationFormik01\">\n                          <Form.Label>Name</Form.Label>\n                          <Form.Control\n                            type=\"text\"\n                            name=\"name\"\n                            placeholder=\"Your name here\"\n                            value={values.name}\n                            onChange={handleChange}\n                            isInvalid={!!errors.name}\n                          />\n                          <Form.Control.Feedback type=\"invalid\">\n                            {errors.name}\n                          </Form.Control.Feedback>\n                        </Form.Group>\n\n                      </Form.Row>\n                      <Form.Row>\n                        <Form.Group as={Col} controlId=\"validationFormik02\">\n                          <Form.Label>Brief Description</Form.Label>\n                          <Form.Control\n                            type=\"text\"\n                            name=\"description\"\n                            placeholder=\"Describe yourself (optional)\"\n                            value={values.description}\n                            onChange={handleChange}\n                            isInvalid={!!errors.description}\n                          />\n                          <Form.Control.Feedback type=\"invalid\">\n                            {errors.description}\n                          </Form.Control.Feedback>\n                        </Form.Group>\n                      </Form.Row>\n                      <Form.Row>\n                        <Form.Group as={Col} controlId=\"validationFormik03\">\n                          <Form.Label>Message</Form.Label>\n                          <Form.Control\n                            type=\"text\"\n                            name=\"message\"\n                            placeholder=\"Type something fun!\"\n                            value={values.message}\n                            onChange={handleChange}\n                            isInvalid={!!errors.message}\n                          />\n                          <Form.Control.Feedback type=\"invalid\">\n                            {errors.message}\n                          </Form.Control.Feedback>\n                        </Form.Group>\n                      </Form.Row>\n                      <Form.Row>\n                        <Form.Group as={Col} controlId=\"validationFormik04\">\n                          <Form.Label>Email</Form.Label>\n                          <Form.Control\n                            type=\"text\"\n                            name=\"email\"\n                            placeholder=\"Will not be posted (optional)\"\n                            value={values.email}\n                            onChange={handleChange}\n                            isInvalid={!!errors.email}\n                          />\n                          <Form.Control.Feedback type=\"invalid\">\n                            {errors.email}\n                          </Form.Control.Feedback>\n                        </Form.Group>\n                      </Form.Row>\n                      <Form.Row>\n                        <Form.Group>\n                          <Form.Check\n                            name=\"view\"\n                            label=\"Select to make your post public\"\n                            onChange={handleChange}\n                            id=\"validationFormik05\"\n                            feedback={errors.view}\n                          />\n                        </Form.Group>\n                      </Form.Row>\n\n                      <Button type=\"submit\">Submit form</Button>\n                    </Form>\n                  )}\n                </Formik>\n              </Card.Body>\n            </Card>\n\n          </Col>\n          <Col className = \"ml-2\" xs ={12} sm = {4}>\n            {blog}\n          </Col>\n        </Row>\n      </Container>\n    </div>\n  )\n\n}\n"]},"metadata":{},"sourceType":"module"}