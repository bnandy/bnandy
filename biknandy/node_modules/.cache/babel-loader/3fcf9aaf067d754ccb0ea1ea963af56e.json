{"ast":null,"code":"import _slicedToArray from\"/Users/bnandy/Documents/4_Final_Q/HCI/bnandy/biknandy/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{Component,useEffect,useState}from'react';import{Container,Row,Col,Form,Button,Card}from'react-bootstrap';import config from'../config.js';import{Formik}from'formik';import*as yup from'yup';import Blog from'../components/blog';var firebase=require(\"firebase\");export default function Guestbook(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),rend=_useState4[0],setRend=_useState4[1];var schema=yup.object({name:yup.string().min(5).max(20).required(),description:yup.string().max(100),message:yup.string().min(15).max(500).required(),email:yup.string().email(),view:yup.bool()});useEffect(function(){if(!firebase.apps.length){firebase.initializeApp(config);}var ref=firebase.database().ref('data');ref.on('value',function(snapshot){var state=snapshot.val();setData(state);});},[rend]);var submitForm=function submitForm(formData){firebase.database().ref('data').push().set({time:firebase.database.ServerValue.TIMESTAMP,name:formData.name,description:formData.description,message:formData.message,email:formData.email,view:formData.view});alert(\"Form submitted!\");};var blog;if(data!=null){blog=/*#__PURE__*/React.createElement(Blog,{data:data});}return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(Container,{fluid:true},/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,null,/*#__PURE__*/React.createElement(\"h1\",{className:\"ml-3 mt-3\"},\" Send me a message!  \"))),/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{className:\"ml-3 mr-5 mb-2\",xs:12,sm:6},/*#__PURE__*/React.createElement(Card,{border:\"primary\"},/*#__PURE__*/React.createElement(Card.Body,null,/*#__PURE__*/React.createElement(Formik,{validationSchema:schema,onSubmit:function onSubmit(values,_ref){var resetForm=_ref.resetForm;submitForm(values);resetForm();},initialValues:{name:\"\",description:\"\",message:\"\",email:\"\",view:false}},function(_ref2){var handleSubmit=_ref2.handleSubmit,handleChange=_ref2.handleChange,handleBlur=_ref2.handleBlur,values=_ref2.values,touched=_ref2.touched,isValid=_ref2.isValid,errors=_ref2.errors;return/*#__PURE__*/React.createElement(Form,{noValidate:true,onSubmit:handleSubmit},/*#__PURE__*/React.createElement(Form.Row,null,/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"validationFormik01\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Name\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",name:\"name\",placeholder:\"Your name here\",value:values.name,onChange:handleChange,isInvalid:!!errors.name}),/*#__PURE__*/React.createElement(Form.Control.Feedback,{type:\"invalid\"},errors.name))),/*#__PURE__*/React.createElement(Form.Row,null,/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"validationFormik02\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Brief Description\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",name:\"description\",placeholder:\"Describe yourself (optional)\",value:values.description,onChange:handleChange,isInvalid:!!errors.description}),/*#__PURE__*/React.createElement(Form.Control.Feedback,{type:\"invalid\"},errors.description))),/*#__PURE__*/React.createElement(Form.Row,null,/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"validationFormik03\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Message\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",name:\"message\",placeholder:\"Type something fun!\",value:values.message,onChange:handleChange,isInvalid:!!errors.message}),/*#__PURE__*/React.createElement(Form.Control.Feedback,{type:\"invalid\"},errors.message))),/*#__PURE__*/React.createElement(Form.Row,null,/*#__PURE__*/React.createElement(Form.Group,{as:Col,controlId:\"validationFormik04\"},/*#__PURE__*/React.createElement(Form.Label,null,\"Email\"),/*#__PURE__*/React.createElement(Form.Control,{type:\"text\",name:\"email\",placeholder:\"Will not be posted (optional)\",value:values.email,onChange:handleChange,isInvalid:!!errors.email}),/*#__PURE__*/React.createElement(Form.Control.Feedback,{type:\"invalid\"},errors.email))),/*#__PURE__*/React.createElement(Form.Row,null,/*#__PURE__*/React.createElement(Form.Group,null,/*#__PURE__*/React.createElement(Form.Check,{name:\"view\",label:\"Select to make your post public\",onChange:handleChange,id:\"validationFormik05\",feedback:errors.view}))),/*#__PURE__*/React.createElement(Button,{type:\"submit\"},\"Submit form\"));})))),/*#__PURE__*/React.createElement(Col,{className:\"ml-2\",xs:12,sm:4},blog))));}","map":{"version":3,"sources":["/Users/bnandy/Documents/4_Final_Q/HCI/bnandy/biknandy/src/components/guestbook.js"],"names":["React","Component","useEffect","useState","Container","Row","Col","Form","Button","Card","config","Formik","yup","Blog","firebase","require","Guestbook","data","setData","rend","setRend","schema","object","name","string","min","max","required","description","message","email","view","bool","apps","length","initializeApp","ref","database","on","snapshot","state","val","submitForm","formData","push","set","time","ServerValue","TIMESTAMP","alert","blog","values","resetForm","handleSubmit","handleChange","handleBlur","touched","isValid","errors"],"mappings":"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","sourcesContent":["import React, { Component, useEffect, useState} from 'react';\nimport {Container, Row, Col, Form, Button, Card} from 'react-bootstrap';\nimport config from '../config.js';\nimport {Formik} from 'formik';\nimport * as yup from 'yup';\nimport Blog from '../components/blog';\nconst firebase = require(\"firebase\");\nexport default function Guestbook() {\n\n  const [data, setData] = useState(null)\n  const [rend, setRend] = useState(true)\n\n  const schema = yup.object({\n    name: yup.string().min(5).max(20).required(),\n    description: yup.string().max(100),\n    message: yup.string().min(15).max(500).required(),\n    email: yup.string().email(),\n    view: yup.bool(),\n  });\n\n  useEffect(() => {\n      if (!firebase.apps.length) {\n         firebase.initializeApp(config)\n      }\n\n      let ref = firebase.database().ref('data');\n\n      ref.on ('value', snapshot => {\n        const state = snapshot.val()\n        setData (state)\n      })\n  },[rend])\n\n  const submitForm = (formData) => {\n    firebase.database().ref('data').push().set({\n      time: firebase.database.ServerValue.TIMESTAMP,\n      name: formData.name,\n      description: formData.description,\n      message: formData.message,\n      email: formData.email,\n      view: formData.view\n    })\n\n    alert(\"Form submitted!\")\n  }\n\n  let blog;\n\n  if (data != null){\n    blog = <Blog data= {data}/>;\n  }\n\n  return(\n    <div>\n      <Container fluid>\n        <Row>\n          <Col>\n            <h1 className = \"ml-3 mt-3\"> Send me a message!  </h1>\n          </Col>\n        </Row>\n        <Row>\n          <Col className = \"ml-3 mr-5 mb-2\" xs={12} sm={6}>\n            <Card border = \"primary\">\n              <Card.Body>\n                <Formik\n                  validationSchema={schema}\n                  onSubmit={(values, {resetForm}) => {\n                    submitForm(values);\n                    resetForm();\n                  }}\n                  initialValues={{\n                    name: \"\",\n                    description: \"\",\n                    message: \"\",\n                    email: \"\",\n                    view: false,\n                  }}\n                >\n                  {({\n                    handleSubmit,\n                    handleChange,\n                    handleBlur,\n                    values,\n                    touched,\n                    isValid,\n                    errors,\n                  }) => (\n                    <Form noValidate onSubmit={handleSubmit}>\n                      <Form.Row>\n                        <Form.Group as={Col} controlId=\"validationFormik01\">\n                          <Form.Label>Name</Form.Label>\n                          <Form.Control\n                            type=\"text\"\n                            name=\"name\"\n                            placeholder=\"Your name here\"\n                            value={values.name}\n                            onChange={handleChange}\n                            isInvalid={!!errors.name}\n                          />\n                          <Form.Control.Feedback type=\"invalid\">\n                            {errors.name}\n                          </Form.Control.Feedback>\n                        </Form.Group>\n\n                      </Form.Row>\n                      <Form.Row>\n                        <Form.Group as={Col} controlId=\"validationFormik02\">\n                          <Form.Label>Brief Description</Form.Label>\n                          <Form.Control\n                            type=\"text\"\n                            name=\"description\"\n                            placeholder=\"Describe yourself (optional)\"\n                            value={values.description}\n                            onChange={handleChange}\n                            isInvalid={!!errors.description}\n                          />\n                          <Form.Control.Feedback type=\"invalid\">\n                            {errors.description}\n                          </Form.Control.Feedback>\n                        </Form.Group>\n                      </Form.Row>\n                      <Form.Row>\n                        <Form.Group as={Col} controlId=\"validationFormik03\">\n                          <Form.Label>Message</Form.Label>\n                          <Form.Control\n                            type=\"text\"\n                            name=\"message\"\n                            placeholder=\"Type something fun!\"\n                            value={values.message}\n                            onChange={handleChange}\n                            isInvalid={!!errors.message}\n                          />\n                          <Form.Control.Feedback type=\"invalid\">\n                            {errors.message}\n                          </Form.Control.Feedback>\n                        </Form.Group>\n                      </Form.Row>\n                      <Form.Row>\n                        <Form.Group as={Col} controlId=\"validationFormik04\">\n                          <Form.Label>Email</Form.Label>\n                          <Form.Control\n                            type=\"text\"\n                            name=\"email\"\n                            placeholder=\"Will not be posted (optional)\"\n                            value={values.email}\n                            onChange={handleChange}\n                            isInvalid={!!errors.email}\n                          />\n                          <Form.Control.Feedback type=\"invalid\">\n                            {errors.email}\n                          </Form.Control.Feedback>\n                        </Form.Group>\n                      </Form.Row>\n                      <Form.Row>\n                        <Form.Group>\n                          <Form.Check\n                            name=\"view\"\n                            label=\"Select to make your post public\"\n                            onChange={handleChange}\n                            id=\"validationFormik05\"\n                            feedback={errors.view}\n                          />\n                        </Form.Group>\n                      </Form.Row>\n\n                      <Button type=\"submit\">Submit form</Button>\n                    </Form>\n                  )}\n                </Formik>\n              </Card.Body>\n            </Card>\n\n          </Col>\n          <Col className = \"ml-2\" xs ={12} sm = {4}>\n            {blog}\n          </Col>\n        </Row>\n      </Container>\n    </div>\n  )\n\n}\n"]},"metadata":{},"sourceType":"module"}